<nz-layout *ngIf="canActive" class="min-h-full">
  <nz-sider nzCollapsible [(nzCollapsed)]="isCollapsed" [class.hidden]="isCollapsed" [class.lg:block]="isCollapsed"
    [nzWidth]="width" nzTheme="light" [nzTrigger]="null" [nzReverseArrow]="isReverseArrow"
    class="!fixed px-4 left-0  z-10 !h-screen overflow-y-auto !overflow-x-hidden bg-primaryBG border-r-2 border-solid text-textColor shadow-[2px_0px_7px_0px_rgba(1,87,155,0.30)]">
    <div class="relative">
      <div [routerLink]="['/']" routerLinkActive="router-link-active"
        class="cursor-pointer logo mb-8 mt-8  m-auto flex flex-col h-10 items-center justify-center  rounded-md">
        <div class="text-[20px] flex flex-col justify-center gap-3 items-center">
          <img src="../../../assets/img/Logo-Hoc-Vien-Ky-Thuat-Mat-Ma-ACTVN.webp" alt="logo" class="w-[50px] h-[50px] rounded-[50%]">
          <span>{{userName}}</span>
        </div>
      </div>
    </div>
    <div
      class="absolute z-50 bottom-0 left-0 right-0 flex justify-center p-3 gap-2 items-center bg-[#DAF4FF] logoutBTN cursor-pointer "
      (click)="handleLogout()">
      <span nz-icon nzType="logoutIcon:antd" class="icon" nzTheme="outline"></span>
      <span class="select-none">Đăng xuất</span>
    </div>
    <div *ngIf="canActive">
      <ul nz-menu [nzMode]="'inline'" [nzInlineCollapsed]="isCollapsed" class="border-none">
        <li nz-menu-item [routerLink]="['/', 'statistical']" nzMatchRouter class="menu-item">
          <i class="fa-solid fa-chart-simple"></i>
          <span class="ml-3">Thống kê</span>
        </li>
        <li nz-menu-item [routerLink]="['/', 'user-management']" nzMatchRouter class="menu-item">
          <i class="fa-solid fa-users"></i>
          <span class="ml-3">{{'Menu.userManagement'| translate }}</span>
        </li>
        <li nz-menu-item [routerLink]="['/', 'slection-ticket']" nzMatchRouter class="menu-item">
          <i class="fa-solid fa-check-to-slot"></i>
          <span class="ml-3">Tiến hành bầu cử</span>
        </li>
        <li nz-menu-item [routerLink]="['/', 'slection-follow']" nzMatchRouter class="menu-item">
          <!-- <i class="fa-solid fa-person-chalkboard"></i> -->
          <i class="fa-solid fa-magnifying-glass-chart"></i>
          <span class="ml-3">Theo dõi bầu cử</span>
        </li>
        <li nz-menu-item [routerLink]="['/', 'slection-management']" nzMatchRouter class="menu-item">
          <i class="fa-solid fa-sitemap"></i>
          <span class="ml-3">Quản lý cuộc bầu cử</span>
        </li>
        <li nz-menu-item [routerLink]="['/', 'level-management']" nzMatchRouter class="menu-item">
          <i class="fa-solid fa-book-open-reader"></i>
          <span class="ml-3">Quản lý chức vụ</span>
        </li>
        <!-- <li nz-menu-item [routerLink]="['/', 'notify']" nzMatchRouter class="menu-item">
          <i class="fa-regular fa-bell"></i>
          <span class="ml-3">Thông báo</span>
        </li> -->
        <ul nz-submenu nzTitle="{{'Menu.setting'| translate }}" nzIcon="setting" class="menu-item">
          <li nz-menu-item [routerLink]="['/', 'user-infor',userInfor.sub]" nzMatchRouter>
            <i class="fa-regular fa-circle-user"></i>
            <span class="ml-3">{{'Menu.userInfor'| translate }}</span>
          </li>
          <li nz-menu-item [routerLink]="['/', 'setting']" nzMatchRouter class="menu-item">
            <i class="fa-solid fa-bullhorn"></i>
            <span class="ml-3">Cài đặt hệ thống</span>
          </li>
        </ul>
      </ul>
    </div>
  </nz-sider>
  <nz-layout class="bg-white" [ngClass]="{ 'ml-[280px]': !isCollapsed, 'lg:ml-[80px]': isCollapsed }">
    <nz-content>
      <div class=" border-t border-solid border-primary px-1 h-full" [class.hidden]="!isCollapsed"
        [class.lg:block]="!isCollapsed">
        <router-outlet></router-outlet>
      </div>
    </nz-content>
  </nz-layout>
</nz-layout>

<div *ngIf="!canActive">
  <div class="w-full bg-white">
    <div class="w-full bg-[#D1F2DB] h-[100px] flex items-center fixed top-0 left-0 right-0 z-10">
        <div class="flex items-center justify-between w-full pr-7">
            <img class="object-cover"  src="../../../assets/img/logoHomePage.png"/>
            <div class="flex items-center justify-between gap-[30px] ">
                <div [routerLink]="['/home-page']" class="text-primary italic text-[18px] hover:underline cursor-pointer">Trang chủ</div>
                <div [routerLink]="['/list-feilds']" class="text-primary italic text-[18px] hover:underline cursor-pointer">Danh sách sân</div>
                <div class="text-primary italic text-[18px] hover:underline cursor-pointer">Sự kiện</div>
                <div [routerLink]="['/my-info']" class="text-primary italic text-[18px] hover:underline cursor-pointer">Liên hệ</div>
            </div>
            <div *ngIf="!this.role" class="flex items-center justify-between gap-[20px]">
                <div class="bg-[#4FC460] text-white text-center text-[16px] py-[8px] w-[100px] rounded-[8px] cursor-pointer italic shadow-shadow-btn"
                [routerLink]="['/register']">Đăng ký</div>
                <div class="bg-[#4FC460] text-white text-center text-[16px] py-[8px] w-[100px] rounded-[8px] cursor-pointer italic shadow-shadow-btn"
                [routerLink]="['/login']">Đăng nhập</div>
            </div>
            <div class="flex items-center justify-end gap-4 relative cursor-pointer" *ngIf="this.role" (click)="toggleUserMenu()">
              <div class="flex flex-col justify-between items-end">
                <div class="text-[16px] text-primary">{{nameOwner}}</div>
                <div class="text-[14px]">Khách hàng</div>
              </div>
              <i class="fa-regular fa-circle-user text-[32px]"></i>

              <div *ngIf="isUserMenuVisible" class="absolute right-0 top-[45px] bg-white shadow-lg rounded-md w-[180px] z-50">
                <ul class="py-2">
                  <li class="px-4 py-2 hover:bg-[#F0F9F2] cursor-pointer" [routerLink]="['/user-profile']">
                    <i class="fa-regular fa-user mr-2"></i>
                    <span>Tài khoản</span>
                  </li>
                  <li class="px-4 py-2 hover:bg-[#F0F9F2] cursor-pointer">
                    <i class="fa-solid fa-key mr-2"></i>
                    <span>Đổi mật khẩu</span>
                  </li>
                  <li class="px-4 py-2 hover:bg-[#F0F9F2] text-red-500 cursor-pointer" (click)="handleLogout()">
                    <i class="fa-solid fa-right-from-bracket mr-2"></i>
                    <span>Đăng xuất</span>
                  </li>
                </ul>
              </div>
            </div>
        </div>
    </div>
    <router-outlet></router-outlet>
    <!-- Footter -->
    <div class="relative h-[300px] w-full mt-[150px] bg-[#D1F2DB] flex py-[40px] pl-[60px]">
        <div class="flex justify-start gap-[40px] items-start w-full h-full">
            <div class="flex flex-col items-center max-w-[260px]">
                <img class="object-cover"  src="../../../assets/img/logoHomePage.png"/>
                <div class="text-[#757095] leading-[145%] ">3AT SPORTS cung cấp các tiện ích thông minh giúp cho bạn tìm sân bãi và đặt sân một cách hiệu quả nhất.</div>
            </div>
            <div class="flex flex-col items-start max-w-[200px] mt-[12px]">
                <div class="text-[#181433] leading-[145%] font-semibold">Thông tin</div>
                <div class="text-[#757095] leading-[145%] mt-3">Email</div>
                <div class="text-[#757095] leading-[145%] mt-3">Thông tin</div>
                <div class="text-[#757095] leading-[145%] mt-3">Số điện thoại</div>
            </div>
            <div class="flex flex-col items-start max-w-[200px] mt-[12px]">
                <div class="text-[#181433] leading-[145%] font-semibold">Liên hệ chủ sân</div>
                <div class="text-[#757095] leading-[145%] mt-3">Nguyễn Văn Liêm</div>
                <div class="text-[#757095] leading-[145%] mt-3">09384837434</div>
            </div>
        </div>
        <img class="object-cover absolute bottom-[40px] right-0"  src="../../../assets/img/footerIcon.png"/>
    </div>
</div>
</div>